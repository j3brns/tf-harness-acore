# Example Terraform variables for AgentCore deployment
# Copy this file to terraform.tfvars and update values as needed

region      = "us-east-1"
# Optional AgentCore control-plane region override (defaults to region)
# Example: AgentCore in eu-west-1 with BFF in eu-west-2
agentcore_region = ""
# Optional BFF/API Gateway region override (defaults to agentcore_region)
bff_region = ""
# Optional Bedrock region override for models/guardrails/inference profiles (defaults to agentcore_region)
# Example: AgentCore in eu-west-1 with Bedrock models in eu-west-2
bedrock_region = ""

# Optional BFF runtime ARN override (required if enable_bff=true and enable_runtime=false)
bff_agentcore_runtime_arn = ""
environment = "dev"
agent_name  = "my-research-agent"

# Tags
tags = {
  Team        = "AI/ML"
  CostCenter  = "Engineering"
  Owner       = "your-name@example.com"
}

# Foundation - Gateway (MCP Tool Integration)
enable_gateway       = true
gateway_name         = "my-agent-gateway"
gateway_search_type  = "HYBRID"

# Example MCP targets (Lambda-based tools)
mcp_targets = {
  web_search = {
    name       = "web-search-tool"
    lambda_arn = "arn:aws:lambda:us-east-1:123456789012:function:web-search-mcp"
  }
  code_executor = {
    name       = "code-executor-tool"
    lambda_arn = "arn:aws:lambda:us-east-1:123456789012:function:code-executor-mcp"
  }
}

# Foundation - Identity
enable_identity      = false
oauth_return_urls    = []

# Foundation - Observability
enable_observability = true
enable_xray          = true
log_retention_days   = 30

# Foundation - Encryption
enable_kms           = true

# Tools - Code Interpreter
enable_code_interpreter       = true
code_interpreter_network_mode = "SANDBOX"

# Tools - Browser
enable_browser                = false
browser_network_mode          = "SANDBOX"
enable_browser_recording      = false

# Runtime - Agent Execution
enable_runtime      = true
runtime_source_path = "./agent-code"
runtime_entry_file  = "runtime.py"
runtime_config = {
  max_iterations = 10
  timeout_seconds = 300
}

# Runtime - Memory
enable_memory = true
memory_type   = "BOTH"

# Runtime - Inference Profiles (Bedrock)
enable_inference_profile = false
# inference_profile_name = "agentcore-profile"
# inference_profile_model_source_arn = "arn:aws:bedrock:<REGION>::foundation-model/<MODEL_ID>"
# inference_profile_description = "Application inference profile for agent runtime"
# inference_profile_tags = {
#   Project = "bedrock-agentcore"
# }

# Runtime - Packaging
enable_packaging = true
python_version   = "3.12"

# Governance - Policy Engine
enable_policy_engine  = false
cedar_policy_files = {
  # pii_protection = "${path.module}/modules/agentcore-governance/policies/cedar/pii-protection.cedar"
  # rate_limiting = "${path.module}/modules/agentcore-governance/policies/cedar/rate-limiting.cedar"
}

# Governance - Evaluations
enable_evaluations     = false
evaluation_type        = "TOOL_CALL"
evaluator_model_id     = "anthropic.claude-sonnet-4-5"
evaluation_prompt      = "Evaluate the agent's response for accuracy and relevance."
evaluation_criteria = {
  accuracy = "Response factual correctness"
  relevance = "Response relevance to query"
  clarity = "Response clarity and completeness"
}
